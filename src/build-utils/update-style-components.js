const fs = require('fs');
const path = require('path');

const componentList = fs
  .readdirSync(path.resolve(__dirname, '../components'))
  .filter(component => fs.existsSync(path.resolve(__dirname, `../components/${component}/styles`)));

const componentsFileContent = `\
/**
 * Generated by: src/build-utils/update-style-components.js
 * Generated on: ${new Date().toDateString()}
 */

${componentList
    .map(component => `@import "../components/${component}/styles";`)
    .join('\n')}
`;

fs.writeFileSync(path.resolve(__dirname, '../styles/components.scss'), componentsFileContent);
